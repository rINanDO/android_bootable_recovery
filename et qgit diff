[1mdiff --git a/applypatch/Android.mk b/applypatch/Android.mk[m
[1mindex 1f71c44..3f32c75 100644[m
[1m--- a/applypatch/Android.mk[m
[1m+++ b/applypatch/Android.mk[m
[36m@@ -35,7 +35,7 @@[m [mLOCAL_STATIC_LIBRARIES := \[m
     libbspatch \[m
     libbz \[m
     libz[m
[31m-LOCAL_WHOLE_STATIC_LIBRARIES += libmtdutils[m
[32m+[m
 LOCAL_CFLAGS := \[m
     -DZLIB_CONST \[m
     -Werror[m
[36m@@ -115,7 +115,7 @@[m [minclude $(BUILD_STATIC_LIBRARY)[m
 include $(CLEAR_VARS)[m
 LOCAL_SRC_FILES := applypatch_main.cpp[m
 LOCAL_MODULE := applypatch[m
[31m-LOCAL_C_INCLUDES := $(commands_recovery_local_path)[m
[32m+[m[32mLOCAL_C_INCLUDES :=  $(LOCAL_PATH)/.. $(commands_recovery_local_path)[m
 LOCAL_STATIC_LIBRARIES := \[m
     libapplypatch_modes \[m
     libapplypatch \[m
[36m@@ -124,11 +124,14 @@[m [mLOCAL_STATIC_LIBRARIES := \[m
     libotafault \[m
     libcrypto \[m
     libbspatch \[m
[31m-    libbz[m
[32m+[m[32m    libbz \[m
[32m+[m[32m    libmtdutils[m
 LOCAL_SHARED_LIBRARIES := \[m
     libbase \[m
     libz \[m
[31m-    libcutils[m
[32m+[m[32m    libcutils \[m
[32m+[m[32m    libmtdutils[m
[32m+[m
 LOCAL_CFLAGS := -Werror[m
 include $(BUILD_EXECUTABLE)[m
 [m
[1mdiff --git a/applypatch/applypatch.cpp b/applypatch/applypatch.cpp[m
[1mindex 73547da..da52dfe 100644[m
[1m--- a/applypatch/applypatch.cpp[m
[1m+++ b/applypatch/applypatch.cpp[m
[36m@@ -38,8 +38,8 @@[m
 #include <android-base/strings.h>[m
 #include <openssl/sha.h>[m
 [m
[31m-#include "../bmlutils/bmlutils.h"[m
[31m-#include "../mtdutils/mtdutils.h"[m
[32m+[m[32m#include <bmlutils/bmlutils.h>[m
[32m+[m[32m#include <mtdutils/mtdutils.h>[m
 [m
 #include "edify/expr.h"[m
 #include "otafault/ota_io.h"[m
